\documentclass[11pt, a4paper]{article}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage{xurl}
\usepackage{enumitem}
\usepackage{titling}
\usepackage{array}
\usepackage{pdflscape}
\usepackage{xcolor}
\usepackage{tikz,colortbl}
\usepackage{multirow}
\usepackage{tabulary}
\usepackage[acronym]{glossaries}
\usepackage[utf8]{inputenc}

\usetikzlibrary{calc}
\usepackage{zref-savepos}

\definecolor{black}{rgb}{0,0,0}

\newcounter{NoTableEntry}
\renewcommand*{\theNoTableEntry}{NTE-\the\value{NoTableEntry}}

\newcommand*{\notableentry}{%
  \multicolumn{1}{@{}c@{}|}{%
    \stepcounter{NoTableEntry}%
    \vadjust pre{\zsavepos{\theNoTableEntry t}}% top
    \vadjust{\zsavepos{\theNoTableEntry b}}% bottom
    \zsavepos{\theNoTableEntry l}% left
    \hspace{0pt plus 1filll}%
    \zsavepos{\theNoTableEntry r}% right
    \tikz[overlay]{%
      \draw[red]
        let
          \n{llx}={\zposx{\theNoTableEntry l}sp-\zposx{\theNoTableEntry r}sp},
          \n{urx}={0},
          \n{lly}={\zposy{\theNoTableEntry b}sp-\zposy{\theNoTableEntry r}sp},
          \n{ury}={\zposy{\theNoTableEntry t}sp-\zposy{\theNoTableEntry r}sp}
        in
        (\n{llx}, \n{lly}) -- (\n{urx}, \n{ury})
        (\n{llx}, \n{ury}) -- (\n{urx}, \n{lly})
      ;
    }% 
  }%
}

%%%%%%%%%%%%% Content below %%%%%%%%%%%%%

\title{Camera Provisioning}
\author{Thymo van Beers}
\date{January 2022}

\begin{document}

\include{intro}
\include{research}
\include{design}
\include{implementation}
\include{conclusion}

\section{Research methodology} \label{methods}
Research methods are used according to the Development Oriented Triangulation (DOT) framework \cite{dot_framework}. In this chapter the methods that
will be used are described and their application will be handled in chapter \ref{activities}.
\subsection{Library}
Library research is done to explore what is already done and what guidelines and theories exist that could help you further your design. Since the advent of the internet library research is also called desk research.

\subsubsection{Available product analysis}
An available product analysis is the process of finding out if there are already existing solutions to the problem at hand.

\subsubsection{Best good and bad practices}
The best good and bad practices is a research method where work of others is investigated and a way is found to incorporate this in your own research.

\subsubsection{Literature study}
Literature study is used to gather information about a subject, determining what material to read in detail and summarising your findings.

\subsubsection{Design pattern research}
Design patterns are documented solutions to frequently encountered problems or challenges in software engineering; they incorporate good software engineering principles. Having good knowledge of these patterns can help improve the quality of designed software.

\subsection{Workshop}
Workshop research is done to explore opportunities. Prototyping, designing and co-creation activities are all ways to gain insights in what is possible and how things could work.

\subsubsection{Prototyping}
With this domain a prototype is built to show an idea to stakeholder and to evaluate if it is worth expanding upon.

\subsubsection{Requirements Prioritization}
This method can be used to gather requirements from stakeholders and will be used during the design phase of the project. Once the requirements have been determined a prioritization can be made so that they can be implemented based on priority.

\subsubsection{IT architecture sketching}
Come together around a whiteboard and draw the high-level architecture based upon discussion before and during the drawing process. Stay away from details, unless they are important for the overall design.

\subsubsection{Unit test}
Define one or more tests for each ‘atomic part’ of the code (e.g. a method or function). The unit should be tested in isolation.
\newpage

\section{Activities} \label{activities}
The project is broken down into four phases consisting of the Definition, Analysis, Design and Implementation phase. Each phase is then further broken down into
research activities as described in section \ref{methods}.

\subsection{Project definition}
\subsubsection{Available product analysis}
During the definition phase of the project an available product analysis was done to evaluate relevant research done in the past that may be of relevance to this
project. During the analysis a thesis \cite{tim_k_onvif} was found that completed a lot of work that would have been done in the original scope of the project. After
this analysis the decision was made to move the scope of the project to prevent research from unnecessarily being repeated. With the new scope in mind the analysis was
conducted again and some solutions were found that could get and set settings from an ONVIF enabled camera but none were found that could create a generic configuration nor
were there generic solutions for cameras not implementing ONVIF.

\subsection{Analysis}
\subsubsection{Best good and bad practices}
The cameras that will be used implement multiple APIs, one more useful than the other. Before the design can be made it should be evaluated which API will be used and
how it works. The implementation of this API can have effect on certain parts of the design in regards to the chosen programming language, interface design and
implemented capabilities.

\subsubsection{Prototyping}
In order to gain a better understanding of the camera APIs some very simple proof of concepts can be built to gain experience with the API. This knowledge can then be applied during the design and implementation phases.

\subsection{Design}
\subsubsection{Design pattern research}
The prototype will include an interface between a generic configuration and the camera specific configurations. In order to make this interface future proof, design patterns should be researched so that the interface can be designed to be easily extended.

\subsubsection{IT architecture sketching}
During the design phase thought will be put into the architecture of the prototype. This will start with a sketch of the overall prototype and this will be refined into a functional and technical design.

\subsection{Implementation}
\subsubsection{Prototyping}
The functional and technical design will be implemented in the form of a prototype.

\subsubsection{Unit test}
To validate the operation of the prototype unit tests will be written to cover as many code paths as possible. Next to that an integration test will be done to validate
proper functioning of the prototype. The details of this test will be formalized at a later stage in a test plan.

\subsubsection{Code review}
In order to maintain the quality of the prototype, code reviews will be done on all pull requests that are to be included in the prototype. The review can be done by either the company mentor or another team member.
\newpage

\section{Project management}
The project will be conducted using Scrum. Scrum is already used within the team at BTG and it was decided that the project would use the same process to easily communicate progress and impediments to the team.

Sprints will be set at two weeks and start after the sprint planning on Monday. Scrum activities will be done together with BTG's team when this makes sense. Story mapping, backlog refinement, sprint planning and the retrospective will not be integrated with the team as this would take time away from both the graduate student and the team, as their work is not directly related to each other nor would they have much to contribute to the other party during those sessions. The only persons in these meetings will be the graduate student and his mentor. Effectively this means that only the daily stand-up will be part of the team's stand-up so that the graduate student can share what he is working on and indicate if there are any impediments that the team can help resolve.

BTG has a separate environment for students in their systems. This way they can keep their own backlog without mixing in with work from other teams. Next to that they also have their own place to host documentation and keep their code. In case a student needs to have access to internal resources these can be made available on an as needed basis.

\subsection{Communication}
During the project there will be regular moments to communicate about the progress being made. On a daily basis this will be the stand-up. Once a week I will update my mentor and once a month a meeting will be held with Peter to communicate the progress that has been made and if any problems are expected. If a party feels that additional meetings are needed these can be added when needed.
\newpage

\section{Stakeholder analysis}
During the definition phase a couple of stakeholders were identified. They were identified based on the fact that the outcome of the project would have
some sort of effect on them. Thymo is conducting the project and has the biggest stake in it. Wouter and Silke are both software engineers within the
back-end team and after the project is finished might have to work with the resulting project. Silke in particular has indicated that he would be helped
by the outcome as he currently has to spend a lot of time of batching API calls through a script if a larger amount of cameras need to be configured.
Alex is a Product Manager within BauWatch that had some ideas about the project objective.

\begin{table}[h]
    \centering
    \caption{Stakeholders}
    \label{tab:stakeholders}
    \begin{tabular}{ | m{10em} | m{10em} | }
    \hline
    \textbf{Stakeholder} & \textbf{Type} \\
    \hline
    Thymo van Beers & Key figure \\
    \hline
    Wouter Horlings & Influencer
    \\ \hline
    Silke Hofstra & Influencer
    \\ \hline
    Alex van der Leij & Onlooker
    \\ \hline
    \end{tabular}
\end{table}

\section{Risk analysis}
A risk analysis has been conducted to asses any risks that may have impact on the duration or results of the project. These risks are summed up in table
\ref{tab:risks} along with the resulting consequence if that risk were to present itself. Each risk has an appropriate measure that can be taken to guard
against that risk so that they are deemed acceptable to continue.

\begin{table}[h]
\centering
\caption{Risk analysis}
\label{tab:risks}
    \begin{tabular}{ | m{10em} | m{10em} | m{10em} | }
    \hline
    \textbf{Risk} & \textbf{Consequence} & \textbf{Measure} \\
    \hline
    COVID-19 restrictions. & Work can not be done at the office. & Take preparations to work from home and ensure hardware that cannot leave the office is remotely accessible. \\
    \hline
    Project boundaries are too broad. & Not enough time to answer research questions. & Define boundaries beforehand and adjust planning if needed. \\
    \hline
    Research overlaps with company activities. & Parts of the done research may become redundant. & Frequently communicate progress and define boundaries together. \\
    \hline
    Solution is simpler than expected. & Research finishes early and doesn't have enough body. & Broaden research if required. \\
    \hline
    No sufficient API documentation for cameras & API needs to be reverse engineered, taking a lot of time & Use a different API with better documentation. \\
    \hline
    \end{tabular}
\end{table}
\newpage

% TODO Remove?
% \section{HBO-i domain description}
% \begin{table}[h]
% \centering
% \label{tab:hboi}
% \caption{}
%     \begin{tabular}{ | m{10em} | m{12em} | m{10em} | }
%     \hline
%     \textbf{Professional activity at level 3} & \textbf{Research questions} & \textbf{Professional product(s)} \\
%     \hline
%     \textbf{Analyze}
%     \newline
    
%     Architectural layer: Software
    
%     Professional activity: Analyze
    
%     &
    
%     How should a configuration be represented to express settings for different cameras?
    
%     What parameters are of interest to BauWatch?
    
%     &
    
%     \begin{itemize}
%         \item Research report
%         \item Requirements analysis
%     \end{itemize}
%     \\ \hline
%     \textbf{Design}
%     \newline
    
%     Architectural layer: Software
    
%     Professional activity: Design
    
%     &
    
%     How should a configuration be represented to express settings for different cameras?
    
%     How would the system architecture of a centralized parameter system be designed and implemented?
    
%     &
    
%     \begin{itemize}
%         \item Functional Design
%         \item Technical Design
%     \end{itemize}
%     \\ \hline
%     \textbf{Realize}
%     \newline
    
%     Architectural layer: Software
    
%     Professional activity: Realize
    
%     &
    
%     How would the system architecture of a centralized parameter system be designed and implemented?
    
%     &
    
%     \begin{itemize}
%         \item Software Prototype
%     \end{itemize}
%     \\ \hline
%     \end{tabular}
% \end{table}

\begin{landscape}
    \section{Planning}
The project planning can be found in table \ref{tab:planning}. Calendar weeks have been matched to the project week numbers. One week was skipped in week 52 as
BauWatch is closed during the days between Christmas and new years.
    \begin{table}[h]
    \caption{Planning}
    \label{tab:planning}
    \begin{tabular}{ | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | }
        \hline
        \multirow{5}{*}{} &
        \multicolumn{3}{c|}{November} &
        \multicolumn{4}{c|}{December} &
        \multicolumn{4}{c|}{January} &
        \multicolumn{4}{c|}{February} &
        \multicolumn{5}{c|}{March} &
        \multicolumn{3}{c|}{April}
        \\ \hline
        \textbf{Calendar week →} & 46 & 47 & 48 & 49 & 50 & 51 & 52 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 & 16
        \\ \hline
        \textbf{Project week →} & 1 & 2 & 3 & 4 & 5 & 6 & \notableentry & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 & 16 & 17 & 18 & 19 & 20 & 21 & 22
        \\ \hline
        Project definition & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} && \notableentry &&&&&&&&&&&&&&&&
        \\ \hline
        Analysis &&&&& \cellcolor{black} & \cellcolor{black} & \notableentry & \cellcolor{black} &&&&&&&&&&&&&&&
        \\ \hline
        Design &&&&&&& \notableentry & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} &&&&&&&&&&&&
        \\ \hline
        Implementation &&&&&&& \notableentry &&&&& \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} &&&&&&
        \\ \hline
        Write thesis &&&&&&& \notableentry & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} & \cellcolor{black} &&&
        \\ \hline
        Presentation &&&&&&& \notableentry &&&&&&&&&&&&&&& \cellcolor{black} & \cellcolor{black}
        \\ \hline
        \multicolumn{24}{|c|}{Deadlines}
        \\ \hline
        Concept thesis &&&&&&&&&&&&&&&&&& 20 &&&&&
        \\ \hline
        Final thesis &&&&&&&&&&&&&&&&&&&& 3 &&&
        \\ \hline
    \end{tabular}
    \end{table}
 \end{landscape}
 
 %%%%%%%% Plan of Approach ends here!!!! %%%%%%
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Foreman}
Can I make some kind of comparison?
I should look at design patterns.
* Factory pattern for the API mapper?
What design pattern can be used for templates?
Composite, 
Is there research on Foreman?

\newpage
% TODO Replace with bibtex in template
\begin{thebibliography}{2}
    \bibitem{tim_k_onvif}
        ``ONVIF Plug-in", \textit{Tim Kesteloo}, [online]. Available: \url{https://hbo-kennisbank.nl/details/sharekit_hh:oai:surfsharekit.nl:15d206a2-dc4e-4dbd-9719-339793255ddd}. [Accessed: 01-12-2021]
    \bibitem{dot_framework}
        ``The DOT-Framework", \textit{HBO-i}, [online]. Available: \url{https://ictresearchmethods.nl/The_DOT_Framework}. [Accessed: 01-12-2021]
    \bibitem{ti_wmc}
        ``Twente Institute for Wireless and Mobile Communications", \textit{SALUS}, [online]. Available:
        \url{https://www.sec-salus.eu/consortium/ti-wmc/}. [Accessed: 20-01-2021]
    % \bibitem{moscow}
    % ``MoSCoW Analysis (6.1.5.2)". A Guide to the Business Analysis Body of Knowledge (2 ed.).
    % International Institute of Business Analysis. 2009. ISBN 978-0-9811292-1-1
\end{thebibliography}

\end{document}
